<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>exemplo do sprite</title>
</head>

<script>
    //
    var canvas;
    var contexto;
    var sprite;

    var numeroDeSprites = 6; 

    // posição do corte
    var x = 0;
    var y = 0;

    var contador = 1; // para controlar a troca de imagens

    async function ini(){
        canvas = document.getElementById('tela');
        contexto = canvas.getContext('2d');

        sprite = new Image();
        sprite.src = 'spritesheet/numeros.jpg';

        sprite.addEventListener('load',()=>{
            console.log('sprite carregou');
            animasprite();
        });

        document.getElementById('botao').addEventListener('click',()=>{
            console.log('clicou');
            console.log(` contador = ${contador} : x = ${x} : y = ${y}`)
            // troca o corte da imagem
            if(contador < 6){
                x += 50;
                contador ++;
            }
            else{
                x = 0;
                contador = 1;
            }
            animasprite();
        });

    }

    function animasprite(){
        //
        // parametros = imagem, corte_x, corte_y, largura_corte, altura_corte, pos_x, pos_y, e largura e altura da imagem
        // o corte da imagem é feito na src=´´
        // pos_x e pos_y são as coordenadas do canvas onde será exibida a imagem 
        contexto.drawImage(sprite,x,y,50,50,200,200,100,100);
        //
        console.log('animasprite');
        //
    }

    window.addEventListener('load',ini);

</script>

<style>
    body{
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .tela{
        border: 1px solid black;
    }
    #botao{
        height: 50px;
        width: 100px;
        background-color: aquamarine;
    }
</style>

<body>

    <input type="button" id="botao" value="clique aqui">

    <canvas id="tela" class="tela" width="800px" height="600px"> 
        Seu navegador não tem suporte para canvas!
    </canvas>
    
</body>
</html>